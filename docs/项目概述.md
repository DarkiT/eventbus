# EventBus 项目概述

## 项目基本信息

**项目名称**: EventBus 事件总线库
**版本**: v0.2.0
**Go版本要求**: Go 1.23+
**许可证**: MIT License
**维护状态**: 积极维护中  

## 项目目标

EventBus 旨在为 Go 开发者提供一个高性能、功能完整、易于使用的事件总线库，支持：

- 高并发场景下的事件发布/订阅
- 类型安全的消息传递
- 灵活的事件过滤和中间件机制
- 完善的监控和调试功能
- 生产级的稳定性和性能

## 核心特性

### 🚀 高性能设计
- **写时复制(COW)机制**: 优化读多写少场景的性能
- **原子操作**: 减少锁竞争，提升并发性能
- **优化的内存管理**: 避免内存泄漏，提高资源利用率
- **无锁快速路径**: 关键路径避免锁开销

### 📊 功能完整性
- **同步/异步发布**: 支持多种发布模式
- **优先级订阅**: 支持处理器优先级排序
- **上下文控制**: 支持超时和取消操作
- **通配符匹配**: 支持 `*` 和 `#` 通配符
- **事件追踪**: 完整的事件生命周期监控
- **过滤器和中间件**: 灵活的事件处理链

### 🎯 类型安全
- **泛型管道**: 提供类型安全的消息传递
- **编译时检查**: 减少运行时错误
- **接口设计**: 清晰的 API 边界

### 🔧 易用性
- **简洁的API**: 直观易懂的接口设计
- **全局单例**: 支持全局使用模式
- **丰富的示例**: 完整的使用示例和最佳实践
- **完善的文档**: 详细的中文文档

## 技术架构

### 核心组件

1. **EventBus**: 主要的事件总线实现
2. **Channel**: 内部通道管理，支持优先级处理
3. **Pipe**: 泛型管道，提供类型安全的消息传递
4. **Tracer**: 事件追踪和监控
5. **Filter/Middleware**: 事件过滤和中间件系统

### 设计模式

- **发布-订阅模式**: 核心的事件通信模式
- **观察者模式**: 事件监听和通知机制
- **责任链模式**: 中间件和过滤器处理链
- **单例模式**: 全局事件总线实例

### 并发模型

- **Goroutine池**: 高效的并发处理
- **Channel通信**: Go原生的并发通信机制
- **原子操作**: 无锁的状态管理
- **上下文控制**: 优雅的取消和超时处理

## 性能指标

### 基准测试结果
```text
BenchmarkEventBusPublishSync-383       595.0 ns/op     111 B/op    3 allocs/op
BenchmarkEventBusPublish-383          1,406 ns/op      128 B/op    2 allocs/op
BenchmarkPipePublishSync-383           47.98 ns/op       8 B/op    1 allocs/op
BenchmarkCowMapLoad-383                13.30 ns/op       0 B/op    0 allocs/op
```

**测试环境**: AMD EPYC 9K65 192-Core Processor, Linux amd64

### 性能特点
- **低延迟**: 纳秒级的消息处理延迟
- **高吞吐**: 支持百万级QPS的消息处理
- **内存效率**: 优化的内存使用，避免频繁GC
- **可扩展性**: 支持大量订阅者和主题

## 应用场景

### 微服务架构
- 服务间事件通信
- 异步消息处理
- 事件驱动架构

### 实时系统
- 实时数据处理
- 状态变更通知
- 系统监控告警

### 业务系统
- 用户行为追踪
- 业务流程编排
- 数据同步处理

## 项目优势

### 相比其他方案
1. **性能优势**: 基于Go原生特性优化，性能领先
2. **功能完整**: 提供生产级所需的全部功能
3. **类型安全**: 泛型支持，编译时类型检查
4. **易于集成**: 简洁的API，快速集成
5. **活跃维护**: 持续更新和优化

### 技术创新点
1. **优先级处理**: 独创的优先级订阅机制
2. **上下文集成**: 深度集成Go的context包
3. **写时复制优化**: 针对读多写少场景的优化
4. **泛型管道**: 类型安全的消息传递通道

## 社区和支持

### 贡献方式
- 提交Issue报告问题
- 提交Pull Request贡献代码
- 完善文档和示例
- 分享使用经验

### 支持渠道
- GitHub Issues: 问题报告和功能请求
- 文档站点: 详细的使用文档
- 示例代码: 丰富的使用示例
- 社区讨论: 技术交流和经验分享

## 许可证和版权

本项目采用 MIT 许可证，允许自由使用、修改和分发。详细信息请参阅 [LICENSE](../LICENSE) 文件。
